<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>KoMondli Tuck Shop Products</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Raleway:wght@400;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    body {margin:0;font-family:'Montserrat',sans-serif;background:#1c1c1c;color:#fff;}
    header {background:linear-gradient(90deg,#ff416c,#ff4b2b);padding:30px 20px;text-align:center;}
    header img {width:100px;margin-bottom:15px;}
    header h1 {font-family:'Raleway',sans-serif;font-size:2.5rem;margin:0;}
    nav {display:flex;justify-content:center;background:#111;flex-wrap:wrap;}
    nav a {margin:0 15px;padding:15px 0;display:inline-block;font-weight:bold;color:#fff;transition:color 0.3s;}
    nav a:hover {color:#ff4b2b;}
    section {padding:50px 20px;text-align:center;}
    section h2 {font-family:'Raleway',sans-serif;font-size:2rem;margin-bottom:30px;color:#ff4b2b;}
    .products {display:flex;flex-wrap:wrap;justify-content:center;gap:25px;}
    .product-card {background:#222;border-radius:15px;width:220px;padding:20px;text-align:center;transition:transform 0.3s,box-shadow 0.3s;}
    .product-card:hover {transform:translateY(-5px);box-shadow:0 8px 20px rgba(255,75,43,0.5);}
    .product-card img {width:120px;height:120px;object-fit:contain;margin-bottom:10px;}
    .product-card h3 {margin:10px 0 5px;font-size:1.1rem;}
    .product-card p {margin:5px 0;}
    .product-card button {background:#ff4b2b;border:none;padding:8px 15px;border-radius:5px;color:#fff;cursor:pointer;margin-top:10px;}
    .cart {position:fixed;top:80px;right:20px;background:#111;padding:20px;border-radius:15px;width:280px;max-height:80vh;overflow-y:auto;}
    .cart h3 {margin-top:0;color:#ff4b2b;}
    .cart-item {display:flex;justify-content:space-between;margin-bottom:10px;}
    .checkout-btn {background:#ff416c;padding:10px;width:100%;border:none;border-radius:5px;color:#fff;font-weight:bold;cursor:pointer;margin-top:10px;}
    @media(max-width:768px){
      .products{flex-direction:column;align-items:center}
      .cart{width:90%;right:5%;top:auto;bottom:20px}
    }
  </style>
</head>
<body>
  <header>
    <img src="logo/logo.png" alt="KoMondli Logo"/>
    <h1>KoMondli Tuck Shop</h1>
  </header>

  <nav>
    <a href="#beverages">Beverages</a>
    <a href="#restaurant">Restaurant</a>
    <a href="#groceries">Groceries</a>
    <a href="#cart">Cart</a>
  </nav>

  <!-- Beverages -->
  <section id="beverages">
    <h2>Beverages</h2>
    <div class="products" id="beverages-list"></div>
  </section>

  <!-- Restaurant -->
  <section id="restaurant">
    <h2>Restaurant</h2>
    <div class="products" id="restaurant-list"></div>
  </section>

  <!-- Groceries -->
  <section id="groceries">
    <h2>Groceries</h2>
    <div class="products" id="groceries-list"></div>
  </section>

  <!-- Cart -->
  <div class="cart" id="cart">
    <h3>Shopping Cart</h3>
    <div id="cart-items"></div>
    <p><strong>Total:</strong> <span id="cart-currency">USD</span> <span id="cart-total">0</span></p>
    <button class="checkout-btn" id="checkout">Checkout via WhatsApp</button>
  </div>

  <script>
    // Categorized products
    const products = {
      beverages: [
        {name: "Coke 330ml Bottle", price: 0.30, img: "products&prices/coke-330ml-bottle-$0.30.jpg"},
        {name: "Coke PET 500ml", price: 1.00, img: "products&prices/coke-pet-500ml-$1.jpg"},
        {name: "Pepsi 500ml", price: 0.50, img: "products&prices/pepsi-500ml-$0.50.jpg"},
        {name: "Sprite 500ml", price: 1.00, img: "products&prices/sprite-500ml-$1.jpg"},
        {name: "Mazoe Orange Crush", price: 3.50, img: "products&prices/mazoe-orange-crush-$3.50.jpg"}
      ],
      restaurant: [
        {name: "Rice & Beans", price: 1.50, img: "products&prices/rice-beans-$1.50.jpg"},
        {name: "Rice Chicken Assorted Salads", price: 2.50, img: "products&prices/rice-chicken-assorted-salads-$2.50.jpg"},
        {name: "Rice Chicken Beans Coleslaw", price: 4.00, img: "products&prices/rice-chicken-beans-coleslaw-$4.jpg"},
        {name: "Sadza Beef Stew Cabbage", price: 1.50, img: "products&prices/sadza-beef-stew-cabbage-$1.50.jpg"},
        {name: "Sadza Beef Stew Muriwo", price: 1.50, img: "products&prices/sadza-beef-stew-muriwo-$1.50.jpg"},
        {name: "Sadza Chicken Muriwo", price: 2.00, img: "products&prices/sadza-chicken-muriwo-$2.jpg"}
      ],
      groceries: [
        {name: "Cerevita", price: 3.50, img: "products&prices/cerevita-$3.50.jpg"},
        {name: "Colgate Toothpaste", price: 1.00, img: "products&prices/colgate-toothpaste-$1.jpg"},
        {name: "Geisha Soap", price: 1.00, img: "products&prices/geisha-soap-$1.jpeg"},
        {name: "Kellogs Cornflakes", price: 4.00, img: "products&prices/kellogs-cornflakes-$4.png"},
        {name: "MAQ Washing Powder 2kg", price: 4.00, img: "products&prices/maq-washing-powder-new-2kg-$4.jpg"}
      ]
    };

    const currency = "USD";
    let cart = [];

    function renderProducts(category, containerId) {
      const productList = document.getElementById(containerId);
      productList.innerHTML = "";
      products[category].forEach((product, index) => {
        const card = document.createElement("div");
        card.className = "product-card";
        card.innerHTML = `
          <img src="${product.img}" alt="${product.name}">
          <h3>${product.name}</h3>
          <p>${currency} ${product.price.toFixed(2)}</p>
          <button onclick="addToCart('${category}', ${index})">Add to Cart</button>
        `;
        productList.appendChild(card);
      });
    }

    window.addToCart = function(category, index) {
      const product = products[category][index];
      cart.push({name: product.name, price: product.price});
      renderCart();
    };

    function renderCart() {
      const cartItems = document.getElementById("cart-items");
      cartItems.innerHTML = "";
      let total = 0;
      cart.forEach((item, idx) => {
        total += item.price;
        const div = document.createElement("div");
        div.className = "cart-item";
        div.innerHTML = `
          <span>${item.name} - ${currency} ${item.price.toFixed(2)}</span>
          <button onclick="removeFromCart(${idx})" style="background:red;color:#fff;border:none;border-radius:3px;">x</button>
        `;
        cartItems.appendChild(div);
      });
      document.getElementById("cart-total").innerText = total.toFixed(2);
      document.getElementById("cart-currency").innerText = currency;
    }

    window.removeFromCart = function(index) {
      cart.splice(index, 1);
      renderCart();
    };

    document.getElementById("checkout").addEventListener("click", () => {
      if(cart.length === 0){ alert("Your cart is empty!"); return; }
      let message = "Hello KoMondli, I'd like to order:%0A";
      cart.forEach(item => { message += `- ${item.name}: ${currency} ${item.price.toFixed(2)}%0A`; });
      message += `Total: ${currency} ${cart.reduce((a,b)=>a+b.price,0).toFixed(2)}`;
      window.open(`https://wa.me/263771857122?text=${message}`, "_blank");
    });

    // Initial render
    renderProducts("beverages", "beverages-list");
    renderProducts("restaurant", "restaurant-list");
    renderProducts("groceries", "groceries-list");
  </script>
</body>
</html>
